#!/bin/bash

# Update the system
sudo apt update
sudo apt upgrade -y

# Install MariaDB Server
sudo apt install mariadb-server -y

# Secure the MariaDB installation
sudo mysql_secure_installation

# Configure MariaDB to listen on all interfaces
sudo sed -i 's/bind-address/#bind-address/' /etc/mysql/mariadb.conf.d/50-server.cnf

# Allow remote access to MariaDB (replace 'your_ip_address' with the desired IP address or '%' to allow from any IP)
sudo mysql -e "GRANT ALL PRIVILEGES ON *.* TO 'root'@'your_ip_address' IDENTIFIED BY 'your_mariadb_password' WITH GRANT OPTION; FLUSH PRIVILEGES;"

# Restart MariaDB service
sudo systemctl restart mariadb

# Enable MariaDB service to start on system boot
sudo systemctl enable mariadb

# Verify MariaDB status
sudo systemctl status mariadb
